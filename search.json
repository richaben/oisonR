[{"path":"https://richaben.github.io/oisonR/articles/comment-utiliser-oisonR.html","id":"pourquoi-un-package-oisonr","dir":"Articles","previous_headings":"","what":"Pourquoi un package oisonR ?","title":"Comment utiliser le package oisonR ?","text":"Ce package été développé pour faciliter l’accès aux données bancarisées dans OISON, et doit permettre leur ré-utilisation dans le cadre de projets de valorisation (téléchargement des données à partir de différentes sources, et leur mise en forme dans des formats exploitables).","code":""},{"path":"https://richaben.github.io/oisonR/articles/comment-utiliser-oisonR.html","id":"installation-et-chargement","dir":"Articles","previous_headings":"Pourquoi un package oisonR ?","what":"Installation et chargement","title":"Comment utiliser le package oisonR ?","text":"","code":"# install.packages(\"devtools\") devtools::install_github(\"richaben/oisonR\")  # Chargement library(oisonR)"},{"path":"https://richaben.github.io/oisonR/articles/comment-utiliser-oisonR.html","id":"prérequis-pour-lutilisation-du-package","dir":"Articles","previous_headings":"Pourquoi un package oisonR ?","what":"Prérequis pour l’utilisation du package","title":"Comment utiliser le package oisonR ?","text":"Avec ce package, l’accès aux données OISON peut se faire via deux sources possibles : par une connexion directe à l’application (via une API) nécessitant un accès login/mot de passe. Par ce moyen, ce sont les données en temps réel qui peuvent être obtenues ; mais elles sont téléchargées plus lentement (requête limitée en nombre de lignes). par la base de données SQL. Cela nécessite d’obtenir les paramètres de connexion à la base au préalable, et une connexion au réseau interne de l’OFB (ou au VPN). Par ce moyen, les données accessibles sont datées à J-1 sur une copie de la base (en lecture seule). Ici, un volume important de données peut être téléchargé (plus rapidement que par l’API). Conseil : Certaines fonctions du package exigent donc des paramètres particuliers pour l’accès aux données (par exemple login, mot de passe, etc…). Pour ne pas saisir ces paramètres à chaque utilisation, il est conseillé de stocker ces éléments directement dans l’environnement R (cf. procédure ci-dessous). Deux fonctions utiles sont disponibles pour vérifier si les informations de connexion sont bien stockées dans l’environnement R :","code":"## pour vérifier les éléments de connexion via l'api check_acces_oison_api()  ## pour vérifier les éléments de connexion via la connexion SQL check_acces_oison_sql()"},{"path":"https://richaben.github.io/oisonR/articles/comment-utiliser-oisonR.html","id":"marche-à-suivre-pour-stocker-des-informations-dans-lenvironnement-r","dir":"Articles","previous_headings":"Pourquoi un package oisonR ?","what":"Marche à suivre pour stocker des informations dans l’environnement R","title":"Comment utiliser le package oisonR ?","text":"⚠ Il faut bien renseigner les informations dans l’environnement R avec le même nom que ci-dessous pour que ces éléments soient vérifiables et utilisables par les fonctions check_acces_oison_***() . Connexion via l’API Connexion via la base SQL ⚠ Requiert d’avoir la bonne configuration (les bons paramètres)","code":"## 1° - ouvrir le fichier de configuration de l'environnement R avec la fonction : usethis::edit_r_environ()  ## 2° - dans la fenêtre ouverte intitulée '.Renviron',  # sauvegarder les lignes suivantes correspondant aux identifiants OISON_ID = \"john.doe@ofb.gouv.fr\" OISON_PASSWORD = \"moncodesecret\"  ## 3° - dans les fonctions, ces informations peuvent être utilisées avec les  ## lignes suivantes (à la place des 'vrais' identifiants) : Sys.getenv('OISON_ID') Sys.getenv('OISON_PASSWORD') ## 1° - ouvrir le fichier de configuration de l'environnement R avec la fonction : usethis::edit_r_environ()  ## 2° - dans la fenêtre ouverte intitulée '.Renviron',  # sauvegarder les lignes suivantes avec le bon paramétrage OISON_BDname = 'NOM_DE_LA_BDD' OISON_BDhostname = \"URL_DE_LA_BDD\" OISON_BDport = \"LE_PORT_DE_LA_BDD\" OISON_BDuid = \"IDENTIFIANT_DE_CONNEXION_A_LA_BDD\" OISON_BDpwd = \"MOT_DE_PASSE_DE_CONNEXION_A_LA_BDD\"  ## 3° - dans les fonctions, ces informations doivent être utilisées avec les ## lignes suivantes : Sys.getenv('OISON_BDname') Sys.getenv('OISON_BDhostname') Sys.getenv('OISON_BDport') Sys.getenv('OISON_BDuid') Sys.getenv('OISON_BDpwd')"},{"path":"https://richaben.github.io/oisonR/authors.html","id":null,"dir":"","previous_headings":"","what":"Auteur·rice·s","title":"Auteur·rice·s et Citation","text":"Benoit Richard. Mainteneur·se.","code":""},{"path":"https://richaben.github.io/oisonR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Auteur·rice·s et Citation","text":"Richard B (2024). oisonR: R Package pour collecter et utiliser les données OISON. R package version 0.1.0,  https://richaben.github.io/oisonR/, https://github.com/richaben/oisonR.","code":"@Manual{,   title = {oisonR: R Package pour collecter et utiliser les données OISON},   author = {Benoit Richard},   year = {2024},   note = {R package version 0.1.0,  https://richaben.github.io/oisonR/},   url = {https://github.com/richaben/oisonR}, }"},{"path":"https://richaben.github.io/oisonR/index.html","id":"oisonr-","dir":"","previous_headings":"","what":"R Package pour collecter et utiliser les données OISON","title":"R Package pour collecter et utiliser les données OISON","text":"OISON est un outil de saisies naturalistes pour les agents de l’Office français de la biodiversité (OFB). Il permet de collecter des données relatives aux espèces et aux milieux, qui sont majoritairement issues d’observations opportunistes, fortuites ou protocolées. L’accès à l’outil est restreint et nécessite un compte utilisateur (création de compte nécessaire avant connexion). Ce package été développé pour faciliter l’accès aux données bancarisées dans OISON, et doit permettre leur ré-utilisation dans le cadre de projets de valorisation (téléchargement des données à partir de différentes sources, et leur mise en forme dans des formats exploitables).","code":""},{"path":"https://richaben.github.io/oisonR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Package pour collecter et utiliser les données OISON","text":"La version de développement sur GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"richaben/oisonR\")"},{"path":"https://richaben.github.io/oisonR/index.html","id":"exemple","dir":"","previous_headings":"","what":"Exemple","title":"R Package pour collecter et utiliser les données OISON","text":"basic example shows solve common problem:","code":"## basic example code library(oisonR)"},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_api.html","id":null,"dir":"Reference","previous_headings":"","what":"Test si les accès à l'API OISON sont bien renseignés — check_acces_oison_api","title":"Test si les accès à l'API OISON sont bien renseignés — check_acces_oison_api","text":"Fonction pour tester si les accès login/mdp sont bien stockés dans l'environnement R (fichier `.Renviron`).","code":""},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Test si les accès à l'API OISON sont bien renseignés — check_acces_oison_api","text":"","code":"check_acces_oison_api()"},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_api.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Test si les accès à l'API OISON sont bien renseignés — check_acces_oison_api","text":"Aucune valeur. Une erreur est renvoyée si les accès ne sont pas renseignés.","code":""},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_api.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Test si les accès à l'API OISON sont bien renseignés — check_acces_oison_api","text":"","code":"if (FALSE) { check_acces_oison_api() }"},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"Test si les paramètres à la BDD OISON en SQL sont bien renseignés — check_acces_oison_sql","title":"Test si les paramètres à la BDD OISON en SQL sont bien renseignés — check_acces_oison_sql","text":"Fonction pour tester si les paramètres pour l'accès à la BDD OISON en SQL sont bien stockés dans l'environnement R (fichier `.Renviron`).","code":""},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Test si les paramètres à la BDD OISON en SQL sont bien renseignés — check_acces_oison_sql","text":"","code":"check_acces_oison_sql()"},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_sql.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Test si les paramètres à la BDD OISON en SQL sont bien renseignés — check_acces_oison_sql","text":"Aucune valeur. Une erreur est renvoyée si les paramètres ne sont pas renseignés.","code":""},{"path":"https://richaben.github.io/oisonR/reference/check_acces_oison_sql.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Test si les paramètres à la BDD OISON en SQL sont bien renseignés — check_acces_oison_sql","text":"","code":"if (FALSE) { check_acces_oison_sql() }"},{"path":"https://richaben.github.io/oisonR/reference/get_milieu_taxon_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","title":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","text":"Permet de créer une 'table milieu' à partir de la base SQL. La table ainsi créée correspond par défaut à l'ensemble des observations sur les milieux bancarisés dans OISON.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_milieu_taxon_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","text":"","code":"get_milieu_taxon_sql(conn)"},{"path":"https://richaben.github.io/oisonR/reference/get_milieu_taxon_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","text":"conn nom de la base à utiliser.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_milieu_taxon_sql.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","text":"un dataframe avec les observations taxons","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_milieu_taxon_sql.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Fonction pour créer le tableau milieu OISON via connexion SQL — get_milieu_taxon_sql","text":"","code":"if (FALSE) { bdd_oison <- start_sql_connexion()  df_milieu_oison_sql <- get_milieu_taxon_sql(conn = bd_oison)  stop_sql_connexion(conn = bdd_oison) }"},{"path":"https://richaben.github.io/oisonR/reference/get_table_taxon_sql.html","id":null,"dir":"Reference","previous_headings":"","what":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","title":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","text":"Permet de créer une 'table taxon' à partir de la base SQL. La table ainsi créée correspond par défaut à l'ensemble des observations sur les taxons bancarisés dans OISON.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_table_taxon_sql.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","text":"","code":"get_table_taxon_sql(conn)"},{"path":"https://richaben.github.io/oisonR/reference/get_table_taxon_sql.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","text":"conn nom de la base à utiliser.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_table_taxon_sql.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","text":"un dataframe avec les observations taxons","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_table_taxon_sql.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Fonction pour créer le tableau taxon OISON via connexion SQL — get_table_taxon_sql","text":"","code":"if (FALSE) { bdd_oison <- start_sql_connexion()  df_taxon_oison_sql <- get_table_taxon_sql(conn = bd_oison)  stop_sql_connexion(conn = bdd_oison) }"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_dpt.html","id":null,"dir":"Reference","previous_headings":"","what":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","text":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_dpt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","text":"","code":"get_taxon_dpt(   dpt_code,   login,   mdp,   collect_all = FALSE,   date_min = NULL,   date_max = NULL )"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_dpt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","text":"dpt_code code du département (ex. 27) login login du compte OISON mdp mot de passe associé au compte OISON collect_all Booléen. Si FALSE (par défaut) consultation du nombre d'observation (FALSE). Si TRUE, télécharge les données pour les taxons. date_min date minimale pour la période au format (%Y-%m-%d ; cf. exemple '2022-01-01'). NULL par défaut. date_max date maximum pour la période au format (%Y-%m-%d ; cf. exemple '2022-12-31'). NULL par défaut.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_dpt.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","text":"Si collect_all=FALSE, retourne un dataframe indiquant le nombre d'observations dans le département.  Si collect_all=TRUE, retourne un dataframe avec le détail des observations taxons.  Si date_min et date_max sont spécifiés, retourne un dataframe avec les valeurs sur la période.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_dpt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour un département — get_taxon_dpt","text":"","code":"if (FALSE) { # -> Exemple pour consulter rapidement le nombre d'observations dans le département 27, # sans téléchargement des données : get_taxon_dpt(dpt_code = \"27\",               login = \"john.doe@ofb.gouv.fr\",               mdp = \"mon_mdp\")  # -> Exemple pour consulter rapidement le nombre d'observations sur la période 2022 # dans le département 27, sans téléchargement des données : get_taxon_dpt(   dpt_code = \"27\",   login = \"john.doe@ofb.gouv.fr\",   mdp = \"mon_mdp\",   date_min = '2022-01-01',   date_max = '2022-12-31' )  # -> Exemple pour télécharger les données dans le département 27 obs_dpt27 <-   get_taxon_dpt(login = \"john.doe@ofb.gouv.fr\",                 mdp = \"mon_mdp\",                 dpt_code = \"27\",                 collect_all = T) }"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_polygon.html","id":null,"dir":"Reference","previous_headings":"","what":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","title":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","text":"Consulter et télécharger les données OISON sur une zone définie (type polygone)","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_polygon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","text":"","code":"get_taxon_polygon(   zone_selection,   login,   mdp,   collect_all = FALSE,   draw_zone = FALSE,   date_min = NULL,   date_max = NULL )"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_polygon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","text":"zone_selection un objet contenant le zone (polygon), au CRS RGF93 (epsg: 2154) login login du compte OISON mdp mot de passe associé au compte OISON collect_all Booléen. Si FALSE (par défaut) consultation du nombre d'observation (FALSE). Si TRUE télécharge les données. draw_zone Booléen. Si TRUE, lance l'outil de sélection de zones. Par défaut, FALSE. date_min date minimale pour la période au format (%Y-%m-%d ; cf. exemple '2022-01-01'). NULL par défaut. date_max date maximum pour la période au format (%Y-%m-%d ; cf. exemple '2022-12-31'). NULL par défaut.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_polygon.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","text":"Si collect_all=FALSE, retourne uniquement un dataframe avec le nombre d'observations associé  sur la zone géographique sélectionnée.  Si collect_all=TRUE, retourne un dataframe avec les observations pour les taxons.  Si date_min et date_max sont spécifiés, retourne un dataframe avec les valeurs sur la période.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_polygon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Consulter et télécharger les données OISON sur une zone définie (type polygone) — get_taxon_polygon","text":"","code":"if (FALSE) { rm(selection_zone)  ## Exemple 1) Collecter des données sur un polygone défini manuellement: test_zone <-   \"POLYGON ((410677.9 6877209, 413275.2 6929083, 496961.8 6925506, 495122.6 6873600, 410677.9 6877209))\"  get_taxon_polygon(zone_selection = test_zone,                   login = \"john.doe@ofb.gouv.fr\",                   mdp = \"mon_mdp\",                   collect_all = F,                   draw_zone = F)  ## Exemple 2) Consulter des données sur un polygone tracé via l'outil de traçage: get_taxon_polygon(login = \"john.doe@ofb.gouv.fr\",                   mdp = \"mon_mdp\",                   collect_all = F,                   draw_zone = T)  ## Exemple 3) Collecter des données sur un polygone tracé en même temps avec l'outil de traçage: get_taxon_polygon(login = \"john.doe@ofb.gouv.fr\",                   mdp = \"mon_mdp\",                   collect_all = T,                   draw_zone = T)  ## Exemple 4) Consulter des données sur un polygone déjà sauvegardé dans l'environnement: get_taxon_polygon(login = \"john.doe@ofb.gouv.fr\",                   mdp = \"mon_mdp\",                   collect_all = F,                   draw_zone = F)  ## Exemple 5) Consulter des données sur un polygone connu et ## défini manuellement sur une période précise:  test_zone <-   \"POLYGON ((410677.9 6877209, 413275.2 6929083, 496961.8 6925506, 495122.6 6873600, 410677.9 6877209))\"  get_taxon_polygon(zone_selection = test_zone,                   login = \"john.doe@ofb.gouv.fr\",                   mdp = \"mon_mdp\",                   collect_all = F,                   draw_zone = T,                   date_min = '2022-01-01',                   date_max = '2022-12-31') }"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_region.html","id":null,"dir":"Reference","previous_headings":"","what":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","text":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_region.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","text":"","code":"get_taxon_region(   region_code,   login,   mdp,   collect_all = FALSE,   date_min = NULL,   date_max = NULL )"},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_region.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","text":"region_code Code INSEE de la région (ex. 28 pour la Normandie, ...) login login du compte OISON mdp mot de passe associé au compte OISON collect_all Booléen. Si FALSE (par défaut) consultation du nombre d'observation. Si TRUE, télécharge les données pour les taxons. date_min date minimale pour la période au format (%Y-%m-%d ; cf. exemple '2022-01-01'). NULL par défaut. date_max date maximum pour la période au format (%Y-%m-%d ; cf. exemple '2022-12-31'). NULL par défaut.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_region.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","text":"Si collect_all=FALSE, retourne un dataframe indiquant le nombre d'observations sur la région choisie.  Si collect_all=TRUE, retourne un dataframe avec le détail des observations taxons.  Si date_min et date_max sont spécifiés, retourne un dataframe avec les valeurs sur la période.","code":""},{"path":"https://richaben.github.io/oisonR/reference/get_taxon_region.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Consulter et télécharger les données sur les taxons de la bdd OISON pour une région administrative — get_taxon_region","text":"","code":"if (FALSE) { # -> Exemple pour consulter rapidement le nombre de données dans la région # Ile-de-France (code région = 11)  get_taxon_region(region_code = \"11\",                  login = \"john.doe@ofb.gouv.fr\",                  mdp = \"mon_mdp\")  # -> Exemple pour télécharger les données dans # la région Île-de-France (code région 11)  obs_regIDF <-   get_taxon_region(region_code = \"11\",                    login = \"john.doe@ofb.gouv.fr\",                    mdp = \"mon_mdp\",                    collect_all = T)  # -> Exemple pour télécharger les données dans la région # Île-de-France (code région 11) sur la période 2022  obs_regIDF_2022 <-   get_taxon_region(login = \"john.doe@ofb.gouv.fr\",                    mdp = \"mon_mdp\",                    region_code = \"11\",                    date_min = '2022-01-01',                    date_max = '2022-12-31',                    collect_all = T) }"},{"path":"https://richaben.github.io/oisonR/reference/imp_importer_dump_oison.html","id":null,"dir":"Reference","previous_headings":"","what":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","title":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","text":"Fonction pour importer un dump de la base OISON","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_importer_dump_oison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","text":"","code":"imp_importer_dump_oison(fichier_dump)"},{"path":"https://richaben.github.io/oisonR/reference/imp_importer_dump_oison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","text":"fichier_dump chemin vers l'objet .sql du dump","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_importer_dump_oison.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","text":"L'ensemble des tables de la base (sauf tables 'mapping')","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_importer_dump_oison.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Fonction pour importer un dump de la base OISON — imp_importer_dump_oison","text":"","code":"if (FALSE) { imp_importer_dump_oison(fichier_dump = \"./raw_data/PROD_oison.sql\") }"},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_habitats_taxon.html","id":null,"dir":"Reference","previous_headings":"","what":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","title":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","text":"Récupération des codes Habitats des taxons sur l'INPN","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_habitats_taxon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","text":"","code":"imp_inpn_habitats_taxon(df)"},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_habitats_taxon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","text":"df un dataframe issu de la requete OISON","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_habitats_taxon.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","text":"un dataframe avec les codes habitats présents sur l'INPN","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_habitats_taxon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Récupération des codes Habitats des taxons sur l'INPN — imp_inpn_habitats_taxon","text":"","code":"if (FALSE) { data_oison <- get_data_dpt(dpt_code = \"27\", login = \"john.doe@ofb.gouv.fr\", mdp = \"mon_mdp\")  code_habitats <- imp_inpn_habitats_taxon(df = data_oison)  }"},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_maille_taxon.html","id":null,"dir":"Reference","previous_headings":"","what":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","title":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","text":"Récupération des mailles 10x10km sur l'INPN sur une zone shape","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_maille_taxon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","text":"","code":"imp_inpn_maille_taxon(df, shape)"},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_maille_taxon.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","text":"df un dataframe issu de la requete OISON shape un dataframe contenant une couche shape pour la zone souhaitée","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_maille_taxon.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","text":"un dataframe avec les mailles 10x10km INPN","code":""},{"path":"https://richaben.github.io/oisonR/reference/imp_inpn_maille_taxon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Récupération des mailles 10x10km sur l'INPN sur une zone shape — imp_inpn_maille_taxon","text":"","code":"if (FALSE) {  data_oison <- get_data_dpt(dpt_code = \"27\", login = \"john.doe@ofb.gouv.fr\", mdp = \"mon_mdp\")  normandie_shp <- readRDS(file = './regions_geo_normandie.rds') %>% sf::st_transform(crs = 4326)  maille_inpn <- imp_inpn_maille_taxon(df = data_oison,  shape = normandie_shp)  }"},{"path":"https://richaben.github.io/oisonR/reference/mef_dump_creer_table_taxon.html","id":null,"dir":"Reference","previous_headings":"","what":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","title":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","text":"Cette fonction permet de créer un tableau avec les observations taxon présentes dans la  base OISON, à partir des tables importées par le dump de la base.","code":""},{"path":"https://richaben.github.io/oisonR/reference/mef_dump_creer_table_taxon.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","text":"","code":"mef_dump_creer_table_taxon()"},{"path":"https://richaben.github.io/oisonR/reference/mef_dump_creer_table_taxon.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","text":"un dataframe avec les observations taxons.  La colonne geometry spécifie le type de géométrie (point, lignes, polygones) pour l'observation,  et doit être traitée avec précaution lors d'un export sous un autre format (.csv, ...).","code":""},{"path":"https://richaben.github.io/oisonR/reference/mef_dump_creer_table_taxon.html","id":"d-tails","dir":"Reference","previous_headings":"","what":"Détails","title":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","text":"Nécessite au préalable d'importer le dump sql avec la fonction imp_importer_dump_oison.","code":""},{"path":"https://richaben.github.io/oisonR/reference/mef_dump_creer_table_taxon.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Fonction pour créer un tableau taxon issu d'un dump OISON — mef_dump_creer_table_taxon","text":"","code":"if (FALSE) { df_taxon_oison <- mef_dump_creer_table_taxon() }"},{"path":"https://richaben.github.io/oisonR/reference/outil_selection_zone.html","id":null,"dir":"Reference","previous_headings":"","what":"Outil interactif pour tracer une zone (type polygone) — outil_selection_zone","title":"Outil interactif pour tracer une zone (type polygone) — outil_selection_zone","text":"Outil interactif pour tracer une zone (type polygone)","code":""},{"path":"https://richaben.github.io/oisonR/reference/outil_selection_zone.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Outil interactif pour tracer une zone (type polygone) — outil_selection_zone","text":"","code":"outil_selection_zone()"},{"path":"https://richaben.github.io/oisonR/reference/outil_selection_zone.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Outil interactif pour tracer une zone (type polygone) — outil_selection_zone","text":"Lance une fenêtre interactive Shiny pour sélectionner son polygone et  le sauver dans l'environnement pour une future requête  avec la fonction get_taxon_polygon.","code":""},{"path":"https://richaben.github.io/oisonR/reference/outil_selection_zone.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Outil interactif pour tracer une zone (type polygone) — outil_selection_zone","text":"","code":"if (FALSE) { # -> Lancer l'outil et suivre les instructions outil_selection_zone() }"},{"path":"https://richaben.github.io/oisonR/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://richaben.github.io/oisonR/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://richaben.github.io/oisonR/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://richaben.github.io/oisonR/reference/pipe.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://richaben.github.io/oisonR/reference/start_sql_connexion.html","id":null,"dir":"Reference","previous_headings":"","what":"Démarre une connexion à OISON via la base de données SQL — start_sql_connexion","title":"Démarre une connexion à OISON via la base de données SQL — start_sql_connexion","text":"Fonction qui utilise les paramètres de connexion à la base stockés dans l'environnement R (fichier `.Renviron`), et lance la connexion à la base.","code":""},{"path":"https://richaben.github.io/oisonR/reference/start_sql_connexion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Démarre une connexion à OISON via la base de données SQL — start_sql_connexion","text":"","code":"start_sql_connexion()"},{"path":"https://richaben.github.io/oisonR/reference/start_sql_connexion.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Démarre une connexion à OISON via la base de données SQL — start_sql_connexion","text":"Aucune valeur. Une erreur est renvoyée si la connexion est impossible.","code":""},{"path":"https://richaben.github.io/oisonR/reference/start_sql_connexion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Démarre une connexion à OISON via la base de données SQL — start_sql_connexion","text":"","code":"if (FALSE) { bdd_oison <- start_sql_connexion() }"},{"path":"https://richaben.github.io/oisonR/reference/stop_sql_connexion.html","id":null,"dir":"Reference","previous_headings":"","what":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","title":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","text":"Fonction stoppe la connexion à la base.","code":""},{"path":"https://richaben.github.io/oisonR/reference/stop_sql_connexion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Utilisation","title":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","text":"","code":"stop_sql_connexion(conn)"},{"path":"https://richaben.github.io/oisonR/reference/stop_sql_connexion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","text":"conn nom de la base à stopper.","code":""},{"path":"https://richaben.github.io/oisonR/reference/stop_sql_connexion.html","id":"valeur-de-retour","dir":"Reference","previous_headings":"","what":"Valeur de retour","title":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","text":"Aucune valeur.","code":""},{"path":"https://richaben.github.io/oisonR/reference/stop_sql_connexion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Exemples","title":"Stoppe une connexion à OISON via la base de données SQL — stop_sql_connexion","text":"","code":"if (FALSE) { bdd_oison <- start_sql_connexion()  stop_sql_connexion(conn = bdd_oison) }"}]
